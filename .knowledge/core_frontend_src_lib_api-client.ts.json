{"is_source_file": true, "format": "TypeScript", "description": "This file defines an API client for interacting with the Connector Framework Manager backend. It includes interface definitions for connections, connectors, OAuth flows, and a class 'ApiClient' with methods to perform CRUD operations, OAuth handling, and testing connections.", "external_files": ["./config"], "external_methods": ["config.BACKEND_BASE_URL", "getApiUrl"], "published": ["apiClient"], "classes": [{"name": "ApiClient", "description": "A class providing methods to communicate with the backend API, including CRUD operations for connectors and connections, OAuth flows, and request handling logic."}], "methods": [{"name": "setAuthToken", "description": "Sets the authentication token used for authorized API requests."}, {"name": "getConnectors", "description": "Retrieves the list of all available connectors from the backend."}, {"name": "getConnector", "description": "Fetches detailed information about a specific connector identified by its key."}, {"name": "getConnections", "description": "Lists all connections of the currently authenticated user."}, {"name": "getConnection", "description": "Retrieves details for a specific connection by its ID."}, {"name": "createConnection", "description": "Creates a new connection using provided data."}, {"name": "updateConnection", "description": "Updates an existing connection identified by ID."}, {"name": "deleteConnection", "description": "Deletes a connection identified by ID."}, {"name": "testConnection", "description": "Tests if a specific connection is working properly."}, {"name": "initiateOAuth", "description": "Starts the OAuth authorization process for a connector, returning the URL for user authorization."}, {"name": "handleOAuthCallback", "description": "Handles the OAuth callback by exchanging code and state for tokens and completing authentication."}, {"name": "revokeOAuthToken", "description": "Revokes OAuth tokens for a specific connection."}], "calls": ["this.request<Connector[]>('/api/connectors/')", "this.request<Connector>(`/api/connectors/${connectorKey}`)", "this.request<Connection[]>('/api/connections/')", "this.request<Connection>(`/api/connections/${connectionId}`)", "this.request<Connection>('/api/connections/', { method: 'POST', body: JSON.stringify(data) })", "this.request<Connection>(`/api/connections/${connectionId}`, { method: 'PUT', body: JSON.stringify(data) })", "this.request<void>(`/api/connections/${connectionId}`, { method: 'DELETE' })", "this.request<Record<string, unknown>>(`/api/connections/${connectionId}/test`, { method: 'POST' })", "this.request<OAuthAuthorizeResponse>(endpoint)", "this.request<OAuthCallbackResponse>(`/api/oauth/${connectorKey}/callback`, { method: 'POST', body: JSON.stringify({...}) })", "this.request<void>(`/api/oauth/${connectorKey}/revoke/${connectionId}`, { method: 'DELETE' })"], "search-terms": ["API client", "connectors", "connections", "OAuth", "TypeScript API", "connector framework"], "state": 2, "file_id": 13, "knowledge_revision": 35, "git_revision": "", "revision_history": [{"31": ""}, {"34": ""}, {"35": ""}], "ctags": [{"_type": "tag", "name": "$", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^      params.toString() ? `?${params.toString()}` : ''$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ApiClient", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^class ApiClient {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "Connection", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^export interface Connection {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "ConnectionCreate", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^export interface ConnectionCreate {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "ConnectionUpdate", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^export interface ConnectionUpdate {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "Connector", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^export interface Connector {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "OAuthAuthorizeResponse", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^export interface OAuthAuthorizeResponse {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "OAuthCallbackResponse", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^export interface OAuthCallbackResponse {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "apiClient", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^export const apiClient = new ApiClient();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "authorization_url", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  authorization_url: string;$/", "language": "TypeScript", "kind": "property", "scope": "OAuthAuthorizeResponse", "scopeKind": "interface"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  private baseUrl: string;$/", "language": "TypeScript", "kind": "property", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "config_data", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  config_data?: Record<string, unknown>;$/", "language": "TypeScript", "kind": "property", "scope": "Connection", "scopeKind": "interface"}, {"_type": "tag", "name": "config_data", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  config_data?: Record<string, unknown>;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectionCreate", "scopeKind": "interface"}, {"_type": "tag", "name": "config_data", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  config_data?: Record<string, unknown>;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectionUpdate", "scopeKind": "interface"}, {"_type": "tag", "name": "config_schema", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  config_schema?: Record<string, unknown>;$/", "language": "TypeScript", "kind": "property", "scope": "Connector", "scopeKind": "interface"}, {"_type": "tag", "name": "connection_id", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  connection_id?: number;$/", "language": "TypeScript", "kind": "property", "scope": "OAuthCallbackResponse", "scopeKind": "interface"}, {"_type": "tag", "name": "connector", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  connector: Connector;$/", "language": "TypeScript", "kind": "property", "scope": "Connection", "scopeKind": "interface"}, {"_type": "tag", "name": "connector_id", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  connector_id: number;$/", "language": "TypeScript", "kind": "property", "scope": "Connection", "scopeKind": "interface"}, {"_type": "tag", "name": "connector_key", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  connector_key: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectionCreate", "scopeKind": "interface"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  created_at: string;$/", "language": "TypeScript", "kind": "property", "scope": "Connection", "scopeKind": "interface"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  created_at: string;$/", "language": "TypeScript", "kind": "property", "scope": "Connector", "scopeKind": "interface"}, {"_type": "tag", "name": "endpoint", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^    const endpoint = `\\/api\\/oauth\\/${connectorKey}\\/authorize${$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "errorData", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^      const errorData = await response.json().catch(() => ({}));$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "has_oauth_token", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  has_oauth_token: boolean;$/", "language": "TypeScript", "kind": "property", "scope": "Connection", "scopeKind": "interface"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^    const headers: Record<string, string> = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  id: number;$/", "language": "TypeScript", "kind": "property", "scope": "Connection", "scopeKind": "interface"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  id: number;$/", "language": "TypeScript", "kind": "property", "scope": "Connector", "scopeKind": "interface"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  key: string;$/", "language": "TypeScript", "kind": "property", "scope": "Connector", "scopeKind": "interface"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  message: string;$/", "language": "TypeScript", "kind": "property", "scope": "OAuthCallbackResponse", "scopeKind": "interface"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  name: string;$/", "language": "TypeScript", "kind": "property", "scope": "Connector", "scopeKind": "interface"}, {"_type": "tag", "name": "oauth_scopes", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  oauth_scopes: string[];$/", "language": "TypeScript", "kind": "property", "scope": "Connector", "scopeKind": "interface"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^      params.toString() ? `?${params.toString()}` : ''$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^    const params = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^    const response = await fetch(url, {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  state: string;$/", "language": "TypeScript", "kind": "property", "scope": "OAuthAuthorizeResponse", "scopeKind": "interface"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  status: string;$/", "language": "TypeScript", "kind": "property", "scope": "Connection", "scopeKind": "interface"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  status?: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectionUpdate", "scopeKind": "interface"}, {"_type": "tag", "name": "success", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  success: boolean;$/", "language": "TypeScript", "kind": "property", "scope": "OAuthCallbackResponse", "scopeKind": "interface"}, {"_type": "tag", "name": "supports_oauth", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  supports_oauth: boolean;$/", "language": "TypeScript", "kind": "property", "scope": "Connector", "scopeKind": "interface"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^    const url = getApiUrl(endpoint);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/connector-framework-manager-147069-147078/core_frontend/src/lib/api-client.ts", "pattern": "/^  user_id: number;$/", "language": "TypeScript", "kind": "property", "scope": "Connection", "scopeKind": "interface"}], "hash": "03633b9508fbf6547266bb34c9222160", "format-version": 4, "code-base-name": "core_frontend", "filename": "core_frontend/src/lib/api-client.ts", "fields": [{"name": "export interface Connection {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface ConnectionCreate {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface ConnectionUpdate {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface Connector {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface OAuthAuthorizeResponse {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface OAuthCallbackResponse {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "authorization_url: string;", "scope": "OAuthAuthorizeResponse", "scopeKind": "interface", "description": "unavailable"}, {"name": "private baseUrl: string;", "scope": "ApiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "config_data?: Record<string, unknown>;", "scope": "Connection", "scopeKind": "interface", "description": "unavailable"}, {"name": "config_schema?: Record<string, unknown>;", "scope": "Connector", "scopeKind": "interface", "description": "unavailable"}, {"name": "connection_id?: number;", "scope": "OAuthCallbackResponse", "scopeKind": "interface", "description": "unavailable"}, {"name": "connector: Connector;", "scope": "Connection", "scopeKind": "interface", "description": "unavailable"}, {"name": "connector_id: number;", "scope": "Connection", "scopeKind": "interface", "description": "unavailable"}, {"name": "connector_key: string;", "scope": "ConnectionCreate", "scopeKind": "interface", "description": "unavailable"}, {"name": "created_at: string;", "scope": "Connection", "scopeKind": "interface", "description": "unavailable"}, {"name": "has_oauth_token: boolean;", "scope": "Connection", "scopeKind": "interface", "description": "unavailable"}, {"name": "id: number;", "scope": "Connection", "scopeKind": "interface", "description": "unavailable"}, {"name": "key: string;", "scope": "Connector", "scopeKind": "interface", "description": "unavailable"}, {"name": "message: string;", "scope": "OAuthCallbackResponse", "scopeKind": "interface", "description": "unavailable"}, {"name": "name: string;", "scope": "Connector", "scopeKind": "interface", "description": "unavailable"}, {"name": "oauth_scopes: string[];", "scope": "Connector", "scopeKind": "interface", "description": "unavailable"}, {"name": "state: string;", "scope": "OAuthAuthorizeResponse", "scopeKind": "interface", "description": "unavailable"}, {"name": "status: string;", "scope": "Connection", "scopeKind": "interface", "description": "unavailable"}, {"name": "status?: string;", "scope": "ConnectionUpdate", "scopeKind": "interface", "description": "unavailable"}, {"name": "success: boolean;", "scope": "OAuthCallbackResponse", "scopeKind": "interface", "description": "unavailable"}, {"name": "supports_oauth: boolean;", "scope": "Connector", "scopeKind": "interface", "description": "unavailable"}, {"name": "user_id: number;", "scope": "Connection", "scopeKind": "interface", "description": "unavailable"}]}